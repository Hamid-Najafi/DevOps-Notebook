kind: InternalService
name: openldap
spec:
  service_name: openldap
  port_mapping:
    - port: 389
      target_port: 389
      protocol: TCP
  image: goldenstarc/extended-openldap:1.4.0
  image_pull_policy: Always
  resources:
      memory: 200Mi
  env:
    - name: LDAP_ORGANISATION
      value: Legace Inc.
    - name: LDAP_TLS
      value: false
    - name: LDAP_ADMIN_PASSWORD
      value: nWzQK5nULRAP6r6j
    - name: LDAP_BASE_DN
      value: cn=admin,dc=legace,dc=ir
--- 
kind: ExternalService
name: phpldapadmin
spec:
  image: osixia/phpldapadmin
  # domains:
  #    - name: hello-world.my-company.com
  resources:
      memory: 200Mi
  env:
    - name: PHPLDAPADMIN_LDAP_HOSTS
      value: openldap
    - name: PHPLDAPADMIN_HTTPS
      value: false
    - name: PHPLDAPADMIN_LDAP_CLIENT_TLS
      value: false